/*
* Website: https://www.xtrendence.com
* Portfolio: https://www.xtrendence.dev
* GitHub: https://www.github.com/Xtrendence
*/
class XNotify{constructor(t){this.position=this.empty(t)?"TopRight":t,this.defaults={width:"250px",borderRadius:"10px",duration:5e3,color:"rgb(255,255,255)",success:{title:"Success Notification",description:"Whatever you did, it worked.",background:"rgb(40,200,80)"},error:{title:"Error Notification",description:"That didn't work out, did it?",background:"rgb(230,50,50)"},alert:{title:"Alert Notification",description:"This is probably important...",background:"rgb(240,180,10)"},info:{title:"Info Notification",description:"Just so you know...",background:"rgb(170,80,220)"}}}setOptions(t,i){this.width=this.empty(t.width)?this.defaults.width:t.width,this.borderRadius=this.empty(t.borderRadius)?this.defaults.borderRadius:t.borderRadius,this.title=this.empty(t.title)?this.defaults[i].title:t.title,this.description=this.empty(t.description)?this.defaults[i].description:t.description,this.duration=this.empty(t.duration)?this.defaults.duration:t.duration,this.background=this.empty(t.background)?this.defaults[i].background:t.background,this.color=this.empty(t.color)?this.defaults.color:t.color}success(t){this.setOptions(t,"success");let i=this.createElement();this.showNotification(i)}error(t){this.setOptions(t,"error");let i=this.createElement();this.showNotification(i)}alert(t){this.setOptions(t,"alert");let i=this.createElement();this.showNotification(i)}info(t){this.setOptions(t,"info");let i=this.createElement();this.showNotification(i)}createElement(){if(!document.getElementById("x-notify-container")){let t=document.getElementsByTagName("body")[0],i="calc(100% - 20px)",e="20px",o="0",s="0",n="0",r="auto",a="auto";switch(this.position){case"BottomRight":i="auto",s="auto",r="0";break;case"BottomLeft":i="auto",e="0",o="20px",s="auto",n="auto",r="0",a="0";break;case"TopLeft":e="0",o="20px",n="auto",a="0";break}let l=document.createElement("div");l.id="x-notify-container",l.style="position:absolute; z-index:999; width:calc("+this.width+" + 70px); height:"+i+"; overflow-x:hidden; overflow-y:scroll; -webkit-overflow-scrolling:touch; scroll-behavior:smooth; padding-top:20px; padding-right:"+e+"; padding-left:"+o+"; top:"+s+"; right:"+n+"; bottom:"+r+"; left:"+a+";",t.appendChild(l)}let t="TopRight"===this.position||"BottomRight"===this.position?"right":"left",i=document.createElement("div");i.id=this.generateID(),i.style="display:block; padding:0 0 20px 0; text-align:"+t+"; width:100%;";let e=document.createElement("div");return e.classList.add("x-notification"),e.style="background:"+this.background+"; color:"+this.color+"; width:"+this.width+"; border-radius:"+this.borderRadius+'; padding:10px 12px 12px 12px; font-family:"Helvetica Neue", "Lucida Grande", "Arial", "Verdana", "Tahoma", sans-serif; display:inline-block; text-align:left; opacity:0;',e.innerHTML='<span style="font-size:18px; font-weight:bold; color:'+this.color+'; display:block; line-height:25px;">'+this.title+'</span><span style="font-size:16px; color:'+this.color+'; display:block; margin-top:5px; line-height:25px;">'+this.description+"</span>",i.append(e),i}showNotification(t){let i=document.getElementById("x-notify-container"),e=t.getElementsByClassName("x-notification")[0];"BottomRight"===this.position||"BottomLeft"===this.position?(i.append(t),i.scrollHeight>window.innerHeight&&(i.style.height="calc(100% - 20px)"),i.scrollTo(0,i.scrollHeight)):i.prepend(t);let o=.05,s=setInterval(()=>{o+=.05,e.style.opacity=o,o>=1&&(e.style.opacity=1,clearInterval(s))},10);setTimeout(()=>{this.hideNotification(t)},this.duration)}hideNotification(t){let i=document.getElementById("x-notify-container"),e=t.getElementsByClassName("x-notification")[0],o=1,s=setInterval(()=>{o-=.05,e.style.opacity=o,o<=0&&(t.remove(),clearInterval(s))},10);i.scrollHeight<=window.innerHeight&&(i.style.height="auto"),this.empty(i.innerHTML)&&i.remove()}clear(){let t=document.getElementById("x-notify-container").getElementsByClassName("x-notification");for(let i=0;i<t.length;i++)this.hideNotification(t[i])}generateID(){let t=this.epoch()+"-"+this.shuffle(this.epoch());if(this.empty(document.getElementById("x-notify-container").innerHTML))return t;let i=!0;for(;i;){if(!document.getElementById(t)){i=!1;break}t=this.epoch()+"-"+this.shuffle(this.epoch())}return t}shuffle(t){let i=t.toString().split("");for(let t=i.length;t>0;){let e=parseInt(Math.random()*t),o=i[--t];i[t]=i[e],i[e]=o}return i.join("")}epoch(){var t=new Date;return Math.round(t.getTime()/1e3)}empty(t){return null==t||""===t.toString().trim()}}